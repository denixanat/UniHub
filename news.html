<!doctype html>
<html lang="en">
    <head>
        <title>CityU News</title>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        
        <!-- Bootstrap CSS -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
    </head>

    <body>
        <header>
            <!-- Navbar -->
            <nav class="navbar navbar-dark" style="background-color: rgba(4, 29, 58, 0.985); height: 10vh;">
                <div class="container">
                    <a class="navbar-brand" style="color: rgb(255, 255, 255); font-weight: bold; font-size: 1.5rem;" href="index.html">The University News Hub</a>
                </div>
            </nav>
            <!-- Buttons and Search Bar -->
            <div class="d-flex align-items-center justify-content-between" style="height: 8vh; background-color: rgb(31, 183, 194); padding: 0 5rem;">
                <div class="d-flex">
                    <a class="btn btn-link text-white text-decoration-none me-3" href="#" style="font-weight: bold;">CityU News</a>
                    <a class="btn btn-link text-white text-decoration-none" href="#" style="font-weight: bold;">UASLP News</a>
                </div>
                <form class="d-flex">
                    <!-- Search Input Field -->
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" />
                    <!-- Filter Button -->
                    <button class="btn btn-light ms-2" type="button" aria-label="Filter">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-funnel" viewBox="0 0 16 16">
                            <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2z"/>
                        </svg>
                    </button>

                    <!-- Search Button -->
                    <button class="btn btn-light ms-2" type="submit">Search</button>

                    <!-- Translation Button -->
                    <!-- <button class="btn btn-light ms-2" type="button" aria-label="Translate">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-translate" viewBox="0 0 16 16">
                            <path d="M4.545 6.714 4.11 8H3l1.862-5h1.284L8 8H6.833l-.435-1.286zm1.634-.736L5.5 3.956h-.049l-.679 2.022z"/>
                            <path d="M0 2a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v3h3a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-3H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zm7.138 9.995q.289.451.63.846c-.748.575-1.673 1.001-2.768 1.292.178.217.451.635.555.867 1.125-.359 2.08-.844 2.886-1.494.777.665 1.739 1.165 2.93 1.472.133-.254.414-.673.629-.89-1.125-.253-2.057-.694-2.82-1.284.681-.747 1.222-1.651 1.621-2.757H14V8h-3v1.047h.765c-.318.844-.74 1.546-1.272 2.13a6 6 0 0 1-.415-.492 2 2 0 0 1-.94.31"/>
                        </svg>
                    </button> -->
                    <div class="mt-4">
                        <button class="btn btn-primary" onclick="translatePage('es')">Spanish</button>
                        <!-- <button class="btn btn-primary" onclick="translatePage('fr')">French</button> -->
                    </div>
                </form>
            </div>
        </header>

        <!-- Separator Bar -->
        <div style="height: 12px; background-color: rgb(5, 125, 141); width: 100%;"></div>

        <main>
            <!-- News Cards Section -->
            <div class="container my-5">
                <div class="container mt-5">
                    <div class="row" id="news-cards-container">
                        <!-- News cards will be dynamically inserted here -->
                    </div>
                </div>
                 
            </div>
        </main>

        <div style="height: 12px; background-color: rgb(5, 125, 141); width: 100%;"></div>

        <footer style="background-color: rgba(4, 29, 58, 0.985); color: white; padding: 2rem 0;">
            <div class="container text-center">
                <p>&copy; 2024 The University News Hub</p>
                <div class="mt-3">
                    <a href="#top" class="btn btn-light">Back to Top</a>
                </div>
            </div>
        </footer>

        <script src="newsData.js"></script>
        <script>
            // This is the script to generate cards dynamically from `newsData`
            const container = document.getElementById("news-cards-container");
        
            // Loop through the `newsData` and dynamically create cards
            newsData.forEach(news => {
                const card = document.createElement('div');
                card.classList.add('col-md-4', 'mb-4');
                card.innerHTML = `
                    <div class="card">
                        <a href="article.html?id=${news.id}" style="text-decoration:none; color: inherit">
                        <img src="${news.image || 'default-image.jpg'}" class="card-img-top" alt="Card image">
                        <div class="card-body">
                            
                            <h5 class="card-title">${news.title}</h5>
                            <p class="card-text">${news.description}</p>
                            <p class="text-muted">By ${news.author} | ${news.date}</p>
                        </div>
                        </a>
                    </div>
                `;
                container.appendChild(card);
            });
        </script>

        <!-- Bootstrap JavaScript Libraries -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-cuEZXMt92/yjJpc2kqJNkJc0F0S7vW9EdclK5ZzfuK5IuMaqz1GJXjxE8kcSgBxO" crossorigin="anonymous"></script>
        <script>
            
            // Aquí iría tu clave API de Google Translate
            const apiKey = 'AIzaSyAH13op3-X7Cr-zZlhzaUYcKAJID07Up2M'; // Reemplaza esto con tu clave de API real.

            // Función para traducir la página
            function translatePage(targetLang) {
                // const textElements = document.querySelectorAll('[id]'); // Todos los elementos con un ID
                const textElements = document.querySelectorAll('h5, p');
                textElements.forEach(element => {
                    const text = element.innerText || element.textContent;
                    if (text) {
                        translateText(text, targetLang, function(translatedText) {
                            element.innerText = translatedText;
                        });
                    }
                });
            }

            // Función para traducir un texto usando Google Translate API
            function translateText(text, targetLang, callback) {
                const url = `https://translation.googleapis.com/language/translate/v2?key=${apiKey}`;
                const data = {
                    q: text,
                    target: targetLang
                };

                fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                })
                .then(response => response.json())
                .then(data => {
                    if (data && data.data && data.data.translations) {
                        callback(data.data.translations[0].translatedText);
                    }
                })
                .catch(error => console.error('Error in translation:', error));
            }
        </script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>
